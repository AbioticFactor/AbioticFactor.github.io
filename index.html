<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title> Object Detection Robot</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
        type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand" href="#page-top">Object Detection Robot</a>
            <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button"
                data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive"
                aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded"
                            href="#portfolio">Process</a></li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#about">About
                            Me</a></li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded"
                            href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead bg-primary text-white text-center">
        <div class="container d-flex align-items-center flex-column">
            <!-- Masthead Avatar Image-->
            <!-- <img class="masthead-avatar mb-5" src="assets\img\1653598447834.jpg" alt="Tobi" /> -->
            <!-- Masthead Heading-->
            <h1 class="masthead-heading text-uppercase mb-0">Object Detection Robot</h1>
            <!-- Icon Divider-->
            <div class="divider-custom divider-light">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <!-- Masthead Subheading-->
            <p class="masthead-subheading font-weight-light mb-0">Tobi Alade</p>
        </div>
    </header>
    <!-- Portfolio Section-->
    <section class="page-section portfolio" id="portfolio">
        <div class="container">
            <!-- Portfolio Section Heading-->
            <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Process</h2>
            <!-- Icon Divider-->
            <div class="divider-custom">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <!-- Portfolio Grid Items-->
            <div class="row justify-content-center">
                <!-- Portfolio Item 1-->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal1">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-uppercase text-white"
                                style='font-size:36px'>
                                Communication
                            </div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/lab2.png" alt="Lab1" />
                    </div>
                </div>
                <!-- Portfolio Item 2-->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal2">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-uppercase text-white"
                                style='font-size:36px'>
                                Time of Flight Sensors</div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/STMicro-VL53L8.jpg" alt="tof" />
                    </div>
                </div>
                <!-- Portfolio Item 3-->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal3">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-white" style='font-size:36px'>
                                Inertial Measurement Unit</div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/IMU.png" alt="r2d2" />
                    </div>
                </div>
                <!-- Portfolio Item 4-->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal4">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-white" style='font-size:36px'>
                                Motor Control</div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/motor-0.jpeg" alt="motor" />
                    </div>
                </div>
                <!-- Portfolio Item 5-->
                <div class="col-md-6 col-lg-4 mb-5 mb-md-0">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal5">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-white" style='font-size:36px'>
                                PID Control</div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/PID.png" alt="PID" />
                    </div>
                </div>
                <!-- Portfolio Item 6-->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal6">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-white" style='font-size:36px;'>
                                Mapping</div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/map.jpg" alt="Map" />
                    </div>
                </div>

                <!-- Portfolio Item 7-->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal7">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-white" style='font-size:36px;'>
                                Localization</div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/bayes.png" alt="bayes" />
                    </div>
                </div>
                <!-- Portfolio Item 8-->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal8">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-white" style='font-size:36px;'>
                                Object Detection</div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/yologo_2.png" alt="Stunt" />
                    </div>
                </div>
                <!-- Portfolio Item 9-->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal9">
                        <div
                            class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-white" style='font-size:36px;'>
                                Demo</div>
                        </div>
                        <img class="img-fluid" src="assets/img/portfolio/curtain.jpeg" alt="curtain" />
                    </div>
                </div>

    </section>

    <!-- About Section-->
    <section class="page-section bg-primary text-white mb-0" id="about">
        <div class="container">
            <!-- About Section Heading-->
            <h2 class="page-section-heading text-center text-uppercase text-white">About</h2>
            <!-- Icon Divider-->
            <div class="divider-custom divider-light">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <!-- About Section Content-->
            <div class="row">
                <!-- <div class="col-lg-4 ms-auto">
                    <img class="img-fluid" src="assets/img/portfolio/me.png" alt="..." />
                </div> -->
                <div class="col-lg-6 me-auto">
                    <p class="lead">Hello, I am Tobi! I am CS student at Cornell with a strong
                        interest in Robotics and Machine Learning.</p>
                    <p class="lead">This website focuses on systems level design and
                        implementation of fast and dynamic
                        autonomous robots. I will design and build a fast autonomous car, explore dynamic behaviors,
                        sensors, and reactive control on an embedded processor. Afterwards I will implement dynamic
                        obstacle avoidance using a vision based system.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section-->
    <section class="page-section" id="contact">
        <div class="container">
            <!-- Contact Section Heading-->
            <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Contact Me</h2>
            <!-- Icon Divider-->
            <div class="divider-custom">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <!-- Contact Section Form-->
            <div class="row justify-content-center">
                <div class="col-lg-4">
                    <div class="d-flex flex-column align-items-center">
                        <div class="icon-contact mb-3"><i class="fas fa-envelope" style="font-size:60px;"></i></div>
                        <div class="text-muted">Email</div>
                        <div class="lead font-weight-bold">aoa34@cornell.edu</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer text-center">
        <div class="container">
            <div class="row">
                <!-- Footer Location-->
                <div class="col-lg-4 mb-5 mb-lg-0">
                    <h4 class="mb-4">LOCATION</h4>
                    <p class="pre-wrap lead mb-0">Cornell University </p>
                </div>
                <!-- Footer Social Icons-->
                <div class="col-lg-4 mb-5 mb-lg-0">
                    <h4 class="mb-4">AROUND THE WEB</h4><a class="btn btn-outline-light btn-social mx-1"
                        href="https://www.linkedin.com/in/tobi-alade"><i class="fab fa-fw fa-linkedin-in"></i></a>
                </div>
                <!-- Footer About Text-->
                <div class="col-lg-4">
                    <h4 class="mb-4"></h4>
                    <p class="pre-wrap lead mb-0"> </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Copyright Section-->
    <div class="copyright py-4 text-center text-white">
        <div class="container"><small>Copyright &copy; Tobi Alade 2023</small></div>
    </div>

    <!-- Portfolio Modals-->
    <!-- Portfolio Modal 1-->
    <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" aria-labelledby="portfolioModal1"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-secondary mb-0">Bluetooth
                                    communication
                                </h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text-->
                                <p class="mb-5">Our initial step will be to establish an effective communication
                                    framework for our robot.</p>

                                <h5>Hardware</h5>
                                <ul>
                                    <li><b>SparkFun RedBoard Artemis Nano:</b> A key piece of hardware in our setup,
                                        this RedBoard Artemis Nano, is fully compatible with the Arduino suite. It forms
                                        the cornerstone of our communication with the robot. For more details, visit the
                                        product page <a href="https://www.sparkfun.com/products/15443">here</a>.</li>
                                </ul>

                                <h5>Software</h5>
                                <ul>
                                    <li><b>Arduino IDE:</b> This project makes use of the Arduino Integrated Development
                                        Environment (IDE) for the development of the embedded software. This text
                                        editor, complete with all the features I need for programming Arduino hardware,
                                        can be
                                        downloaded from <a href="https://www.arduino.cc/en/software">here</a>.</li>
                                    <li><b>ArduinoBLE:</b> The ArduinoBLE library played a critical role in this
                                        project. This library facilitates the use of Bluetooth® Low Energy on our
                                        Artemis. With its client/server model, we can send and receive various commands
                                        and requests. The data exchanged, known as "characteristics," can include
                                        information like sensor readings or voltage levels. Visit the library page <a
                                            href="https://jupyter.org/">here</a>.</li>

                                    <li><b>Codebase:</b> A vital part of this project was the codebase I borrowed from
                                        Cornell to handle commands. It incorporates functions for sending and receiving
                                        a multitude of commands. These commands follow the format
                                        "cmd_type:value1|value2|value3|…". Various constructors handle the data for
                                        different characteristics. The codebase can be downloaded <a
                                            href="https://cornell.box.com/s/aivj9ad3uv74lmpvxz8s64aamgz6azt1">here</a>.
                                    </li>

                                    <li><b>Jupyter Lab:</b> A significant part of this project revolved around creating
                                        Jupyter Notebooks using Jupyter Lab. It enabled me to write and test interactive
                                        Python scripts and further develop the computer vision operations. Visit the
                                        official site for Jupyter Lab <a
                                            href="https://www.arduino.cc/reference/en/libraries/arduinoble/">here</a>.
                                    </li>
                                </ul>


                                <h5>Tasks</h5>
                                <p>The following tasks ensure a proper communication setup:</p>
                                <ul>
                                    <li align="left">Send Echo Command </li>
                                    <li align="left">Get Time Command </li>
                                </ul>


                                <h6>Send Echo Command</h6>
                                <p class="mb-5">The "ECHO" command sends a string value 'value' to the Artemis, which in
                                    turn sends back the response "Robot says -> 'value'". I implemented this feature by
                                    adding an extra case in the Arduino file and calling it in the Jupyter Notebook. The
                                    implementation code is provided below.
                                    <script
                                        src="https://gist.github.com/AbioticFactor/ebf31b7137a3c24a396e04d75c7f3fe7.js"></script>
                                </p>

                                <br>

                                <h6>Notification Handler</h6>
                                <p class="mb-5"> The notification handler's function is to receive the value of any
                                    string characteristics from the Artemis board. I implemented three different
                                    handlers for the following functions. The corresponding code is provided below.
                                    <script
                                        src="https://gist.github.com/AbioticFactor/6a7c5a5ffe914e4d0e9cafd77155a6c7.js"></script>
                                </p>
                                <br>

                                <h6>Get Time Command</h6>
                                <p class="mb-5"> The "GET_TIME_MILLIS" command retrieves the current time and prompts
                                    the robot to reply in the format "T:current_time" on the string characteristic. I
                                    accomplished this by adding an additional case in both the Arduino file and the
                                    Jupyter Notebook. The implementation code and an image of the output are provided
                                    below.
                                    <script
                                        src="https://gist.github.com/AbioticFactor/c38ce7327b38a6c71367ce5bd8038cdf.js"></script>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab2/get_time.png"
                                        alt="get time function" />
                                </p>
                                <br>

                                <h5>Limitations</h5>
                                <p class="mb-5">
                                    While the Artemis chip is certainly impressive, it has significant limitations
                                    regarding the volume of data it can handle. Consider, for instance, storing 5
                                    seconds of 16-bit values taken at 150Hz, equivalent to 2400 bits every second. The
                                    Artemis only contains 384kb of RAM, equivalent to 3072000 bits. This means we can
                                    only send 256 of these 5-second groups, which isn't much! Therefore, devising a
                                    creative solution to address this limitation when sending data to and from the
                                    device is something I will need to handle.
                                </p>
                                <br>



                                <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Portfolio Modal 2-->
    <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" aria-labelledby="portfolioModal2"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">TOF Sensors
                                </h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <h5>Hardware</h5>
                                <ul>
                                    <li><b> Time of Flight sensors</b>: The final robot will include two of these
                                        sensors (although there is a caveat that I will discuss in my software section).
                                        There are many possible configurations for the sensors with each being
                                        able to pick from 4 main locations: Front, left, right, back. With a FOV of only
                                        27° its not possible to cover all angles. My current plan is
                                        to put one sensor on the front and another on one of the sides. I believe this
                                        is optimal as it stops the robot from running into obstacles moving forward and
                                        allows the robot to focus on a singular side for most of its tricks. This
                                        however will cause us to miss obstacles from the back and other side. I included
                                        a masterpiece drawing below: </li>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/sensor_placement.png"
                                        alt="sensor_placement" />

                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/wiring.png"
                                        alt="sensor_placement" />
                                    <li><b> QWIIC breakout board</b>: We utilized a QWICC brekaout board in order to
                                        provide more connections for our sensors. The wiring is pictured here </li>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/qwicc_connection.jpg"
                                        alt="sensor_placement" />
                                </ul>

                                <h5>Software</h5>
                                <ul>
                                    <li><b>I2C </b>: The main communication protocall we will be looking at this lab is
                                        Inter-Integrated Circuit communications (I2C). I2C is special in that it has
                                        features from both SPI and UART (Other communication protocalls) and it only
                                        uses two wires to communicate. Serial Data (SDA) sends and recieves data while
                                        Serial Clock (SCL) carries the clock signal. The default I2C address for our
                                        VL53L1X should be 0x52 but upon scanning our ports we see that it is 0x29. This
                                        is because the address is bit shifted. The library page can be viewed <a
                                            href="https://jupyter.org/">here</a>
                                        <img class="img-fluid rounded mb-5" src="assets/img/lab3/scanning_ports.png"
                                            alt="scanning_ports" />

                                    </li>

                                </ul>


                                <h5>Tasks</h5>
                                <p>This part included completing the following tasks:</p>
                                <ul>
                                    <li align="left">Sensor test </li>
                                    <li align="left">2 ToF sensors </li>
                                    <li align="left">ToF sensor speed </li>
                                    <li align="left">Time v Distance </li>
                                </ul>

                                <h6>Sensor test</h6>
                                <p class="mb-5"> Our ToF sensor allows for 3 different modes for short, medium, and long
                                    respectively. I decided to use short distance mode as the purpose of our robot is to
                                    do stunts and it cares most about what is immidaitely around it. While medium and
                                    long distance mode would provide support for seeing objects farther away, it
                                    suffers in lit enviornments. Since we dont really need much range but that lab is a
                                    lit enviornment, this furthers my resolve to go with short range senseing. The max
                                    range I was able to get with this mode was 1932 mm by pointing my ToF sensor to a
                                    white wall and slowly walking away.
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/maxrange.png"
                                        alt="maxrange" />
                                </p>
                                <p class="mb-5">Since I did not have a tape measure on me, I utilized my ipad as a
                                    measuring tape and setup my tests by measuring the distance to a wall using the ToF
                                    sensors and comparing the results to my measurements with the iPad. I started off
                                    about 50mm from the wall and moved back untill I reached 200mm
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/testbed.jpg"
                                        alt="testbed" />
                                </p>

                                <p class="mb-5">I utilized the default code and analzed the measurements after. Overall
                                    my measurements were very percise and any error in my graph can probably be
                                    explained by human error (non perfect intervals of measurement). On the X axis I
                                    have the actual distance (in mm) and on the Y axis I have the measured distance. A
                                    perfectly straight line would repersent perfect measurements. In order to test
                                    repeatability, I conducted 2 different tests as seen with the green and blue lines
                                    on the graph.
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/graph.png" alt="graph" />

                                <p class="mb-5">Finally, I also tested the ranging time to be 1706 microseconds
                                    utilizing the following code:
                                    <script
                                        src="https://gist.github.com/AbioticFactor/339b8c631c3aeb6bd263b7c493df05db.js"></script>
                                </p>
                                <br>

                                <h6>2 ToF sensors</h6>
                                <p class="mb-5">The next step was to solder and attach an additional time of flight
                                    sensor to my system:
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/two_tof.jpg"
                                        alt="two_tof" />
                                </p>
                                <p class="mb-5">In order to get this working in software I connected (temporarily) a
                                    wire between
                                    the XSHUT pin on my left ToF sensor and the GPIO_8 pin on my artemis. This allows me
                                    to shutdown one of the sensors change the others address before
                                    reenabling the first sensor and allowing my two sensors to work in parallel
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/xshut.png" alt="xshut" />
                                </p>
                                <br>

                                <h6>ToF sensor speed</h6>
                                <p class="mb-5"> Getting the code to run quickly is very important, this means that our
                                    sensor data must come in as fast as possible. Here I include code that rapidly
                                    prints the artemis clock and at the same time prints ToF data from the two sensors
                                    when they are available. My loop runs at 8 ms per iteration. The limiting
                                    factor is definitely the sensor as shown in the picture. Below I included a picture
                                    of the reuslts as well as the code:
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/limiting.png"
                                        alt="limting" />
                                    <script
                                        src="https://gist.github.com/AbioticFactor/47ea725d41bbf9e99ef71ed454beac47.js"></script>

                                </p>

                                <br>

                                <h6>Time v Distance</h6>
                                <p class="mb-5"> Here we record time-stamped ToF data for 5 seconds and send it to a
                                    computer using bluetooth. I edited the bluetooth code from lab 2 by adding a command
                                    for the ToF sensor. The code as well as a graph of a run is shown below. For the
                                    graph I only included timestamps with information from both sensors. The X axis is
                                    time in miliseconds and the Y axis is distance in milimeters.
                                    <script
                                        src="https://gist.github.com/AbioticFactor/a89dfd46d42bc308905842a55d119e5b.js"></script>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab3/graph2.png" alt="graph2" />
                                </p>
                                <br>

                                <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Portfolio Modal 3-->
    <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" aria-labelledby="portfolioModal3"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">IMU</h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text-->
                                <p class="mb-5">The goal of this part is to connect the Artemis board to an
                                    inertial
                                    measurement unit sensor through a QWIIC connector and test the functionality
                                    of
                                    thes sensors. After that we will get our robot battery connected and finally
                                    get our
                                    robot up and running.
                                </p>

                                <h5>Hardware</h5>
                                <ul>
                                    <li><b>9 DOF IMU sensor</b>: I utilized a 9 degree of freedom
                                        inertial
                                        measurement unit sensor. This sensor is capable of recording
                                        acceleration and
                                        Gyroscope data. Its datasheet can be seen <a
                                            href="https://www.mouser.com/ProductDetail/SparkFun/SEN-15335?qs=uwxL4vQweFMcls1MYZT00A%3D%3D">here</a>.
                                        I wired it to my artemis as shown below: </li>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/IMU_placement.png"
                                        alt="IMU_placement" />

                                    <li><b> QWIIC breakout board</b>: I utilized a QWICC brekaout board in
                                        order to
                                        provide more connection ports for the Artemis. </li>
                                </ul>



                                <h5>Tasks</h5>
                                <p>This part included completing the following tasks:</p>
                                <ul>
                                    <li align="left">Accelerometer Test </li>
                                    <li align="left">Gyroscope Test </li>
                                    <li align="left">Sampling Data </li>
                                    <li align="left">Battery Connection </li>
                                </ul>

                                <h6>Accelerometer Test</h6>
                                <p class="mb-5"> Using these equations for pitch and roll:
                                    <br>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/pr_eq.png" alt="pr_eq" />
                                    <br>
                                    I recorded a test below showing the output at {-90, 0, 90} degrees (value 2
                                    = pitch,
                                    value 3 = roll). I have found the values to be extremely accurate with a
                                    maximum
                                    2.35 degree difference from the expected value
                                    <br>
                                    <iframe width="560" height="315" src="https://youtube.com/embed/zMCA174yVVA"
                                        frameborder="0" allowfullscreen></iframe>
                                </p>
                                <p class="mb-5">One key fact noted earlier, and one clearly seen in the above
                                    video, is
                                    that the accelerometer data contains a lot of noise when moving. This noise
                                    would be
                                    amplified even
                                    further when running the RC car in its vicinity. I collected 106 samples of
                                    21.2 mhz
                                    data by sending information over bluetooth. I analyze this noise through a
                                    fourier transform. I include fft data for both pitch and roll, I
                                    additionally
                                    include the code I used to generate the FFT graphs based on the provided
                                    tutorial.
                                    Looking at the data, there dosent seem to
                                    be much of a frequency spike which is a
                                    result of a low pass filter on the chip by default (according to the
                                    datasheet)
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/pitchfft.png"
                                        alt="ft_graph" />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/rollfft.png"
                                        alt="ft_graph" />
                                    <script
                                        src="https://gist.github.com/AbioticFactor/f9c12dfcd10b6af09a02c067274ebc67.js"></script>

                                </p>
                                <br>

                                <h6>Gyroscope Test</h6>
                                <p class="mb-5"> Using these equations for pitch, roll, and yaw:

                                    <script
                                        src="https://gist.github.com/AbioticFactor/b2abebb2dfa5a89af89c20d9d0d01581.js"></script>

                                    I recorded a test below showing the output of the gyroscope (value 2 =
                                    pitch,
                                    value 3 = roll, value 4 = yaw). I found that increasing the sampling
                                    frequency led
                                    to more
                                    accurate results. I increased the final sampling frequency by a factor of 10
                                    then a
                                    factor of 100 to test this. I have found the values to be less noisy than
                                    the equivalent measurements from the accelerometer but after increasing the
                                    sampling
                                    frequency and adding movement, the
                                    gyroscope quickly suffers from drift. Drift causes the error to quickly
                                    accumulate
                                    to the point where the value drifts away from the expected value
                                    significantly. This
                                    isnt seen in
                                    accelermoter data.
                                    <br>
                                    <iframe width="560" height="315" src="https://youtube.com/embed/cClEZ3p5m14"
                                        frameborder="0" allowfullscreen></iframe>


                                </p>
                                <p class="mb-5">

                                    We can remedy our above problem by implementing a complementary filter
                                    described
                                    below:
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/comp_fil.png"
                                        alt="comp_fil" />
                                    This combines data from the accelerometer and the gyroscope to produce both
                                    accurate
                                    and stable data. The implementation for the filter is shown below:
                                    <script
                                        src="https://gist.github.com/AbioticFactor/339b8c631c3aeb6bd263b7c493df05db.js"></script>

                                    As can be seen below, the complimentary filter is a smashing success. My
                                    sensor
                                    values are now usable with no drift or real noise to worry about.

                                    <iframe width="560" height="315" src="https://youtube.com/embed/oXNCeRjO0j0"
                                        frameborder="0" allowfullscreen></iframe>

                                </p>
                                <br>

                                <h6>Sampling Data</h6>
                                <p class="mb-5"> After speeding up the code by removing all serial print
                                    statements and
                                    skipping any iterations where data wasnt ready, I was able to get to sample
                                    my IMU
                                    at a
                                    frequency of 29 ms.
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/speed.png" alt="speed" />
                                    After this I created a notification handler to collect timestamped IMU data
                                    and
                                    store it in an array.
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/imuts.png" alt="imuts" />
                                </p>
                                <p class="mb-5"> Finally, I capture both my IMU and ToF sensor data with the
                                    same
                                    command. I chose to seperate the data into their own arrays as the ToF data
                                    would
                                    severly bottleneck my IMU data. Using a simmilar structure to my above code
                                    I am
                                    able to capture both IMU and ToF data.
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/both.png" alt="both" />
                                    <script
                                        src="https://gist.github.com/AbioticFactor/52e85e16446a40a28ed57dc751246f99.js"></script>

                                    With my current rate of 64 hz of sampling for IMU data (14 bytes each) and 7
                                    hz
                                    sampling of ToF
                                    data (6 bytes each). With the arduino having 393216 bytes on board this
                                    means I can
                                    store data for 960 seconds before my memory is full.

                                </p>
                                <br>

                                <h6>Battery Connection</h6>
                                <p class="mb-5"> To prevent noise disturbance, I utilize different batteries
                                    for the
                                    motors and the electronics connected to the Artemis. I use a smaller
                                    650mAh
                                    battery for my electronics and a bigger 850mAh one for my motors so I
                                    wont have
                                    to charge the battery as often. I soldered JST connectors to the 650mAh
                                    battery so I
                                    can connect it to the Artemis as shown below:
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/battery.png"
                                        alt="gyr_output" />
                                </p>
                                <br>

                                <h5>RC car test</h5>
                                <p class="mb-5"> Playing with the car made me realize just how jittery it is.
                                    The robot
                                    moves very fast and sometimes the commands lag. Attempting to turn is very
                                    hard as
                                    the robot seems to overturn most of the time. I crashed the robot several
                                    times.
                                <div class="embed-container">
                                    <iframe width="560" height="315" src="https://youtube.com/embed/KURGLvcNtoc"
                                        frameborder="0" allowfullscreen></iframe>
                                </div>
                                </p>


                                <p class="mb-5"> I recorded again this time with the Artemis. This is a
                                    picture of
                                    the robot all connected:
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/autobot.png"
                                        alt="stunt_graph" />
                                    And here is a video and a graph of data taken from the robot.
                                <div class="embed-container">
                                    <iframe width="560" height="315" src="https://youtube.com/embed/r8jEX--ZFTY"
                                        frameborder="0" allowfullscreen></iframe>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab4/drive_data.png"
                                        alt="stunt_graph" />
                                </div>
                                </p>



                                <button class="btn btn-primary" href="#" data-dismiss="modal"><i
                                        class="fas fa-times fa-fw"></i>Close Window </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Portfolio Modal 4-->
    <div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" aria-labelledby="portfolioModal4"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">
                                    Motor Control</h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text-->
                                <p class="mb-5">The goal of this part is to convert the RC car to a computer controlled
                                    robot using the artemis. This rquires the addition of two
                                    motor controllers
                                    to our board</p>

                                <h5>Hardware</h5>
                                <ul>
                                    <li><b>DRV8833 Dual H-Bridge Motor Driver (2x)</b>: I utilized
                                        DRV8833 Dual
                                        H-Bridge Motor Driver. Its data sheet can be found <a
                                            href="https://www.mouser.com/ProductDetail/SparkFun/SEN-15335?qs=uwxL4vQweFMcls1MYZT00A%3D%3D">here</a>.
                                        This driver is capable of driving either two DC motors or
                                        one stepper motor. For my purposes, I
                                        will elect to drive two DC motors. One important note is that I
                                        will use a
                                        seperate battery to power the motors and the motor controllers. This
                                        is mainly to
                                        reduce the noise betwwen the motors and the artemis.
                                        I wired it to my artemis as shown below: </li>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab5/Hbridge_wiring.png"
                                        alt="Hbridge_wiring" />
                                    I chose pins 7, 11, 12, and 13 as they are PWM capable pins and are
                                    easily
                                    accessible with my current coniguration.

                                </ul>

                                <h5>Lab Tasks</h5>
                                <p>This part included completing the following tasks:</p>
                                <ul>
                                    <li align="left">Oscilloscope Test </li>
                                    <li align="left">Spin Test </li>
                                    <li align="left">double spin test </li>
                                    <li align="left">Calibration </li>
                                    <li align="left">Open Loop </li>
                                </ul>

                                <h6>Oscilloscope Test</h6>
                                <p class="mb-5"> In order to use the Oscilloscope I hooked up the power
                                    supply and
                                    oscilliscope as shown below:
                                    <br>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab5/powiring.png"
                                        alt="posetup" />
                                    <br>
                                    I utilized the below code to test the functionality of the boards:
                                    <script
                                        src="https://gist.github.com/AbioticFactor/2bef2165b3cfb71cd76f20e6c95b1783.js"></script>
                                    <br>

                                </p>
                                <p class="mb-5"> Changing only the PWM signal from 100 to 200 I was able to
                                    generate these two graphs
                                    enusring my motor drivers worked and I could manipulate the duty cycle.
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab5/oscilliscope_1.png"
                                        alt="ft_graph" />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab5/oscilliscope_2.png"
                                        alt="ft_graph" />
                                </p>
                                <br>

                                <h6>Spin Test</h6>
                                <p class="mb-5"> I performed a spin test to make sure my robots wheels and motors were
                                    functional. I was able to use the code below to produce the motors spinning as
                                    intended in the
                                    video below

                                    <script
                                        src="https://gist.github.com/AbioticFactor/c23f2d4e36cedb905ccd110c7ac973c0.js"></script>
                                    <br>
                                    <iframe width="560" height="315" src="https://youtube.com/embed/Xy3TWTD_0tA"
                                        frameborder="0" allowfullscreen></iframe>
                                </p>
                                <br>

                                <h6>double spin test</h6>
                                <p class="mb-5"> After fully wiring the robot as shown below:
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab5/fully_wired.png"
                                        alt="fully_wired" />
                                    I was able to run the robot on the ground:
                                    <iframe width="560" height="315" src="https://youtube.com/embed/hDqHDLe8VZ4"
                                        frameborder="0" allowfullscreen></iframe>
                                </p>
                                <p class="mb-5"> I found that a PWM value of 45 was the lowest possible
                                    value for the
                                    car to move forward and on axis turn.
                                </p>
                                <br>

                                <h6>Calibration</h6>
                                <p class="mb-5"> In order to get my motor to spin at the same rate I had to
                                    find a
                                    callibnration factor. After testing a multitude of values I found that a
                                    ratio of
                                    1.25 right/left side worked the
                                    best. I tested this by making the robot follow a piece of tape for 7
                                    feet and
                                    evaluating if it could follow the line. Here you
                                    can see my robot running in a straight line after calibration.
                                    <iframe width="560" height="315" src="https://youtube.com/embed/95-SYOFwIwE"
                                        frameborder="0" allowfullscreen></iframe>
                                </p>
                                <br>

                                <h6>Open Loop</h6>
                                <p class="mb-5"> Finally I used open loop control to manuever my robot with
                                    the code
                                    below and produced the video below using the corresponding code:
                                    <script
                                        src="https://gist.github.com/AbioticFactor/3c8c66297fe321eae5ecb5e7b641acf2.js"></script>
                                    <br>
                                </p>
                                <div class="embed-container">
                                    <iframe width="560" height="315" src="https://youtube.com/embed/fQHruqbsfMY"
                                        frameborder="0" allowfullscreen></iframe>
                                </div>


                                <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Portfolio Modal 5-->
    <div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" aria-labelledby="portfolioModal5"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">
                                    PID control</h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text-->
                                <p class="mb-5">With my robot all wired up I decided to implement a fundamental control
                                    algorithm: PID control</p>

                                <h5>Setup</h5>
                                <p class="mb-5"> For an interactive task like PID control a good debugging system is
                                    essential. I implemented functions in
                                    arduino that would allow the robot to store all of the data on board in
                                    a matrix of values during the PID control. I then implemented functions in python
                                    that would allow editing of PID values on the fly and a handler to recieve
                                    all of the data from my artemis after the PID loop completes.
                                    Finally the data is graphed to ensure proper functionality. I utilized the below
                                    code to complete the described tasks
                                    <br>
                                    <script
                                        src="https://gist.github.com/AbioticFactor/6da1d9d39b97d4ebaea0f8882f52b434.js"></script>
                                    <script
                                        src="https://gist.github.com/AbioticFactor/e28477ec3518e6c8ab048f8be56bda7e.js"></script>
                                    <br>

                                </p>

                                <h5>Tasks</h5>
                                <p>This lab included completing the following tasks:</p>
                                <ul>
                                    <li align="left">P/I/D discussion </li>
                                    <li align="left">Range/Sampling time discussion </li>
                                    <li align="left">Task A </li>
                                </ul>

                                <h6>P/I/D </h6>
                                <p class="mb-5">
                                    Using an additional "bound speed" method to make sure I dont go to slow (where my
                                    robot wont
                                    move) or too fast (where my robot will crash), I include the
                                    code below for my PID controller:
                                    <br>
                                    <script
                                        src="https://gist.github.com/AbioticFactor/b6a3f05306ee1d8151e1764186004f36.js"></script>
                                    <br>

                                </p>


                                <h6>Testing</h6>
                                <p class="mb-5"> To test I had my robot run towards a
                                    wall and stop 1 foot away (300 mm). I include all three trials and their graphs
                                    (speed and distance) below. Throughout my tasks I have found my top tested speed to
                                    be about 1.7 m/s using my collected TOF data to calculate.

                                    Trial 1:
                                    <br>
                                    <iframe width="560" height="315" src="https://youtube.com/embed/mzjXTSdZjXA"
                                        frameborder="0" allowfullscreen></iframe>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab6/graph1.png" alt="graph1" />
                                </p>
                                <br>

                                <p class="mb-5">
                                    Trial 2:
                                    <br>
                                    <iframe width="560" height="315" src="https://youtube.com/embed/FZtULmcU5V4"
                                        frameborder="0" allowfullscreen></iframe>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab6/graph2.png" alt="graph2" />
                                </p>

                                <br>

                                <p class="mb-5">
                                    Trial 3:
                                    <br>
                                    <iframe width="560" height="315" src="https://youtube.com/embed/Azd5RICNU4s"
                                        frameborder="0" allowfullscreen></iframe>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab6/graph3.png" alt="graph3" />
                                </p>

                                <h6>Angular PID ADDITION</h6>
                                <p class="mb-5" style="text-align: left;"> The next step was to implement a way to
                                    complete our turns. Open loop is off the table as my robot rarely does the same
                                    thing every time I command it. On top of battery levels, my robot also seemed to
                                    just have inconsistent turns where open loop would just compound error. Previously,
                                    I planned to use angular speed control for mapping out turns. I
                                    found this to be extremely untrustworthy for getting a precise angle (in my post
                                    processing code I would cut out angles past 360 degrees). So I decided to
                                    implement orientation control. With some simple testing, I found this to be a much
                                    better solution than open loop or angular speed control

                                    <script
                                        src="https://gist.github.com/AbioticFactor/5e3dcce70cf75d4e34e3d1d491ae52db.js"></script>

                                </p>


                                <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Portfolio Modal 6-->
    <div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" aria-labelledby="portfolioModal6"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Mapping</h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text-->
                                <p class="mb-5" style="text-align: left;">The primary objective of this part is to
                                    fuse data from the gyroscope and inertial measurement unit (IMU) on my robot
                                    to create a map of a static room.</p>

                                <h5>Tasks</h5>
                                <p style="text-align: left;">This part involved completing the following tasks:</p>
                                <ul>
                                    <li align="left">Implementing angular speed control</li>
                                    <li align="left">Reading and recording distance measurements</li>
                                    <li align="left">Merging and plotting the readings</li>
                                    <li align="left">Converting the readings to a line-based map</li>
                                    <li align="left">Discussing and analyzing the results</li>
                                </ul>

                                <h6>Angular Speed Control</h6>
                                <p class="mb-5" style="text-align: left;">To make the robot spin, I utilized angular
                                    speed control, taking advantage of the PID controller I had previously developed in
                                    for position control. The following code snippet demonstrates how I
                                    implemented
                                    angular speed control on the robot:
                                    <script
                                        src="https://gist.github.com/AbioticFactor/e700387ddb904a803d14fb27e444a210.js"></script>
                                </p>

                                <p class="mb-5" style="text-align: left;">
                                    After several experiments with different parameters, I found that a PWM value of
                                    130, a P value of 1.9, and running my PID control for 11.6 seconds produced a slow
                                    enough turn rate for adequate sampling from the TOF sensor. Despite some initial
                                    challenges with the right side wheels being looser than the left, resulting in a
                                    large turning radius, I was able to correct this a bit with a compensating factor.
                                    However, even with the factorintroduced my behavior was inconsistent even within the
                                    same turn. This called for
                                    multiple samples for a decent
                                    result. Despite these issues, I was told that it wouldn't severely affect the lab
                                    results, so I proceeded with the tasks.
                                </p>

                                <p class="mb-5" style="text-align: left;">
                                    <iframe width="560" height="315" src="https://youtube.com/embed/cVli5v2wY-4"
                                        frameborder="0" allowfullscreen></iframe>
                                </p>
                                <br>

                                <h6>Read out Distances</h6>
                                <p class="mb-5" style="text-align: left;">Given the inconsistency in my robot's
                                    dynamics, I decided to combine gyroscope and TOF data for creating my graphs. I
                                    implemented the following Python code and obtained the resulting graphs.

                                    <script
                                        src="https://gist.github.com/AbioticFactor/f3256aea9cafa188a31532d6c27d379f.js"></script>
                                    <br>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab9/sc4.png" alt="sc4"
                                        width="300" height="300" />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab9/sc3.png" alt="sc3"
                                        width="300" height="300" />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab9/sc1.png" alt="sc1"
                                        width="300" height="300" />
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab9/sc2.png" alt="sc2"
                                        width="300" height="300" />

                                    <br>
                                </p>

                                <h6>Merge and Plot Readings</h6>
                                <p class="mb-5" style="text-align: left;">The next task was to convert my points from
                                    polar to Cartesian coordinates using the code below

                                    <script
                                        src="https://gist.github.com/AbioticFactor/3565fdde9799b268b3c0f68e7e97c3ba.js"></script>

                                </p>

                                <h6>Convert to Line-Based Map</h6>
                                <p class="mb-5" style="text-align: left;">The final task was to convert the readings
                                    into a line-based map to make it compatible with our simulator. After correcting for
                                    my sensor angle and distance offset as well as the direction I took my measurements
                                    I made a map to validate my results.

                                    <script
                                        src="https://gist.github.com/AbioticFactor/b261f905a185ccea6fd16f61372cc3ad.js"></script>

                                    <img class="img-fluid rounded mb-5" src="assets/img/lab9/final_map.png"
                                        alt="final_map" />

                                </p>

                                <h6>Discussion of results</h6>
                                <p class="mb-5" style="text-align: left;"> My results werent the greatest so I
                                    checked out my TOF sensor data and discovered it gives me a wide spread of data
                                    points even when stationary.
                                    With a worst case variance up to 600mm for objects at
                                    the exact same spot. Since my TOF sensor
                                    worked well previously, I hypothesize that this is
                                    a result of smashing my time of flight
                                    sensor repeatedly into the wall attemping to tune my PID control. If I were to go
                                    back I would 100%
                                    3D print shielding for my sensor and save myself the headache. Along with my
                                    inconsistent turn radius which led edge values to be inconsistenly really close
                                    sometimes.
                                </p>
                                <br>

                                <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Portfolio Modal 7-->
    <div class="portfolio-modal modal fade" id="portfolioModal7" tabindex="-1" aria-labelledby="portfolioModal7"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">
                                    LOCALIZATION</h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text-->
                                <p class="mb-5"> The goal here is to combine my mapping along with a
                                    bayes filter to implement localization in a static room. </p>

                                <h5>Lab Tasks</h5>
                                <p style="text-align: left;">This involved completing the following tasks:</p>
                                <ul>
                                    <li align="left">Bayes filter</li>
                                    <li align="left">Mapping code</li>
                                    <li align="left">Localization testing</li>
                                    <li align="left">Discussion of results</li>

                                </ul>

                                <h5>Bayes filter</h5>
                                <h6>Compute control</h6>
                                <p class="mb-5"> The first step is to compute the control based on the change in
                                    odometry poses:
                                    <br>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab10/compute_control.png"
                                        alt="compute_control" />
                                    <br>
                                    Utilizing the below equtions from class we can produce the following code using
                                    numpys built in math function "atan2" and "sqrt". Converting to degrees was
                                    necessary to make the units consistent:
                                    <br>
                                    <img class="img-fluid rounded mb-5"
                                        src="assets/img/lab10/compute_control_equations.png"
                                        alt="compute_control_equations" />
                                    <script
                                        src="https://gist.github.com/AbioticFactor/0c1184e0c4058c2f33f847361189b059.js"></script>
                                    <br>

                                </p>
                                <br>

                                <h6>Odometry motion model</h6>
                                <img class="img-fluid rounded mb-5" src="assets/img/lab10/omm.png"
                                    alt="odom_motion_model" />
                                <br>
                                <p class="mb-5"> The next step is the Odometry Motion Model. Here we utilize the current
                                    and previous pose in addition to the control information to output the probability
                                    the robot is in a certain state. We first use the previous "compute control"
                                    function to determine the control action. We then use a gaussian distribution as our
                                    probability function while we estimate if that action was succesful:
                                    <br>
                                    <script
                                        src="https://gist.github.com/AbioticFactor/df165c1924aa0b627f582bce857c6637.js"></script>
                                    <br>

                                </p>
                                <br>

                                <h6>Prediction step</h6>
                                <img class="img-fluid rounded mb-5" src="assets/img/lab10/prediction_step.png"
                                    alt="prediction_step" />
                                <br>
                                <p class="mb-5"> Next is the predction step. We use this step to update our beliefs
                                    based on our previous beleifs and our odometry motion model. We iterate through
                                    positions (with the nested for loops) and disregard any negligible cells (cells with
                                    < 0.0001 belief). For non negligible cells we update our beleifs. Finally we must
                                        normalize as its a probability distribution. <br>

                                        We can produce the following code to implement the desired behavior:
                                        <br>
                                        <script
                                            src="https://gist.github.com/AbioticFactor/2ec486b2d98378139646acd6e65d1085.js"></script>
                                        <br>

                                </p>
                                <br>

                                <h6>sensor model</h6>
                                <img class="img-fluid rounded mb-5" src="assets/img/lab10/sensor_model.png"
                                    alt="sensor_model" />
                                <br>
                                <p class="mb-5"> The next step is to compute the probability that our sensor readings
                                    were correct. For each pose we evaluate the probability of the sensor readings based
                                    on the observations of our latest movements with a guassian and append it to a list
                                    of all the probabilties in qustion:
                                    <br>
                                    <script
                                        src="https://gist.github.com/AbioticFactor/6109a439fb87b81c4a8ea9f5c839e6ce.js"></script>
                                    <br>

                                </p>
                                <br>

                                <h6>Update step</h6>
                                <p class="mb-5"> Finally we go through each pose and update the probability of our
                                    beliefs by using the values
                                    computed in our sesor model. We update these beliefs and normalize
                                    (since its a probability):
                                    <br>
                                    <img class="img-fluid rounded mb-5" src="assets/img/lab10/update_step.png"
                                        alt="update_step" />
                                    <br>
                                    <script
                                        src="https://gist.github.com/AbioticFactor/9fe71a5e853537a9d986dd6acf78a470.js"></script>
                                    <br>

                                </p>
                                <br>
                                <br>

                                <h6>Mapping code</h6>
                                <p class="mb-5" style="text-align: left;">The next step was to implement localization
                                    code from lab 9 into the "perform_observation_loop". I had to slightly edit my data
                                    to get it into the correct format for the given localization code. I needed to
                                    repersent my vector as a numpy array, sample 18 values from my data, and invert my
                                    list (as my robot goes counterclockwise).

                                    <script
                                        src="https://gist.github.com/AbioticFactor/fb8b46fbf6ee41fd324c91e30e88d9fa.js"></script>

                                    <br>
                                </p>
                                <p class="mb-5" style="text-align: left;">The issue is that this code does not perform
                                    as well as I needed for localization with my points constantly being on the
                                    opposiute corners of the map. The robot should have been at the point (5,-3) but it
                                    localizes on the other side at (5, 3):

                                    <img class="img-fluid rounded mb-5" src="assets/img/lab11/bad_mapping.png"
                                        alt="bad" />
                                    <br>
                                </p>

                                <p class="mb-5" style="text-align: left;">In order to remedy this I had to work towards
                                    making my robot spin slower, after modifying my tape (the grey duck tape isnt sticky
                                    enough) and using the right battery level I was able to get the almost perfect
                                    results shown in the next section:

                                </p>

                                <h6>Localization testing</h6>
                                <p class="mb-5" style="text-align: left;">The last task was to give my new beleifs at
                                    every point. Using my new code I recieved the following at the points (5,3), (5,
                                    -3), (0, 3), and (-3, -2) respectively:


                                    <img class="img-fluid rounded mb-5" src="assets/img/lab11/fivethree.png"
                                        alt="good" />

                                    <img class="img-fluid rounded mb-5" src="assets/img/lab11/5neg3BR.png" alt="good" />

                                    <img class="img-fluid rounded mb-5" src="assets/img/lab11/zero3.png" alt="good" />

                                    <img class="img-fluid rounded mb-5" src="assets/img/lab11/neg3neg2.png"
                                        alt="good" />

                                </p>


                                <h6>Discussion of results</h6>
                                <p class="mb-5" style="text-align: left;"> I found that all my results were pretty
                                    accurate and only about ~1 square
                                    off. I attribute this to the fact that my spin isnt perfectly on axis even with my
                                    modifications.
                                </p>
                                <br>
                                <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Portfolio Modal 8-->
    <div class="portfolio-modal modal fade" id="portfolioModal8" tabindex="-1" aria-labelledby="portfolioModal8"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Detection</h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text-->
                                <p class="mb-5" style="text-align: left;">The goal of this part is to add object
                                    detection capabilities to my robot. This involved finetuning a YOLOv5 model on a
                                    custom dataset I took of stuffed animals</p>

                                <h5>Hardware</h5>
                                <ul>
                                    <li style="text-align: left;"><b>iPhone 12</b>: I utilized the camera on the apple
                                        iphone 12 to collect my dataset.</li>
                                    <li style="text-align: left;"><b>RTX 2070 SUPER</b>: I utilized an RTX 2070 SUPER in
                                        order to train my model.</li>
                                    <li style="text-align: left;"><b>Webcam</b>: I utilized a webcam in order to
                                        recieve image input to my model.</li>
                                </ul>

                                <h5>Lab Tasks</h5>
                                <p style="text-align: left;">The part consisted of the following tasks:</p>
                                <ul>
                                    <li align="left">Creating the dataset</li>
                                    <li align="left">Training the model</li>
                                    <li align="left">Testing the model</li>
                                </ul>

                                <h6>Creating the dataset</h6>
                                <p class="mb-5" style="text-align: left;">
                                    To create the dataset, I first collected images using the iPhone 12's camera. These
                                    images were of different objects we planned to detect, including stuffed animals
                                    such as Bob-ombs, Goombas, and Peach. This was done in a variety of environments and
                                    conditions to create a more comprehensive and challenging dataset. After capturing
                                    the images, I manually annotated them, drawing bounding boxes around the objects of
                                    interest and labelling them accordingly. Because I only took around 1.5k images I
                                    employed data augmentation techniques to significantly bolster the dataset employing
                                    various image transformations.
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/classes.png"
                                        alt="classes" />
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/label.png"
                                        alt="label" />
                                </p>
                                <br>

                                <h6>Training the model</h6>
                                <p class="mb-5" style="text-align: left;">
                                    The collected dataset was then used to train the YOLOv5 model. I chose to use the
                                    YOLOv5 model because of its balance between speed and accuracy, and because it's
                                    lightweight enough to run on my hardware. The model was trained using a RTX 2070
                                    SUPER. I finetuned the model on the custom dataset and performed several iterations
                                    of training, tuning the hyperparameters for optimal performance. Our performance
                                    metric was primarily object detection accuracy, but speed of detection was also an
                                    important factor given our real-time requirements.
                                    <br>
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/boxes.png" alt="sc4"
                                        width="300" height="300" />
                                </p>
                                <br>

                                <h6>Testing the model</h6>
                                <p class="mb-5" style="text-align: left;">
                                    After training, I utilized a webcam to provide real-time
                                    input to the model. I conducted multiple trials for each task and tuned the model
                                    until I saw consistent successes. The success rate varied per task, with Peach
                                    being the most successful and Goomba being the least. Through this iterative
                                    process, I was able to identify and correct issues with the
                                    predictions such as not enough variety of lighting or lack of detections from
                                    certain angles. Based on the F1 curve shown below
                                    as well as informal qualatative tests. the detection ended up being pretty accurate.
                                    <br>
                                    <img class="img-fluid rounded mb-5" src="assets/img/portfolio/f1.png" alt="f1"
                                        width="300" height="300" />
                                </p>
                                <br>

                                <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Portfolio Modal 9-->
    <div class="portfolio-modal modal fade" id="portfolioModal9" tabindex="-1" aria-labelledby="portfolioModal9"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal"
                        aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Demo!</h2>
                                <!-- Icon Divider-->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text-->
                                <p class="mb-5" style="text-align: left;">In this final part, I will use a combination
                                    of PID control and detection implemented in previous parts to make my robot detect
                                    and perform manuevers based on different objects.</p>

                                <h5>Lab Tasks</h5>
                                <p style="text-align: left;">This part involved completing the following tasks:</p>
                                <ul>
                                    <li align="left">Game design</li>
                                    <li align="left">Demo!</li>
                                </ul>

                                <h6>Game design</h6>
                                <p class="mb-5" style="text-align: left;">This game employed the following strategy:
                                <ul>
                                    <li align="left">If Goomba detected, then robot maneuvers to keep Goomba away from
                                        the center of camera by turning in opposite direction using angular PID control
                                    </li>
                                    <li align="left">If Bob-omb detected, then using PID control, robot maintains
                                        distance of at least 3 feet from Bob-omb </li>
                                    <li align="left">If Peach detected, then using PID control, robot moves forward and
                                        maintains distance of at most 1 foot from peach </li>
                                </ul>
                                <script
                                    src="https://gist.github.com/AbioticFactor/6797536771eeba1221f4bf5e4bbc2a37.js"></script>
                                </p>

                                <h6>Demo!</h6>

                                <p class="mb-5" style="text-align: left;">
                                    <iframe
                                        src="https://drive.google.com/file/d/1xEqIDAbGDbeSH3iyaXv2sZbD1GK2OyNL/preview"
                                        width="640" height="480" allow="autoplay"></iframe>
                                </p>


                                <button class="btn btn-primary" data-bs-dismiss="modal">
                                    <i class="fas fa-xmark fa-fw"></i>
                                    Close Window
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <!-- * *                               SB Forms JS                               * *-->
    <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>

</html>